slidenumbers: true

# Git Basics

### Clara Bennett

---

## What Is Git?

---
### Git is a _distributed_ version control system

- Preserves change history
- Allows splitting and merging together of branches
- All repository copies are equal
- (almost) All operations are local

---

## How Does It Work?

![](http://www.wallpaperup.com/uploads/wallpapers/2012/08/02/7734/bc202098f41b38be56140a2516e851bf.jpg)

---
### Snapshots

- Check in changes → Git saves working directory snapshot

![inline](http://git-scm.com/book/en/v2/book/01-introduction/images/snapshots.png)

---
### SHA-1 Checksums

- Commit snapshots are check-summed with SHA-1
- The resulting hash serves to identify the commit
- Changes are detected by comparing checksums
- Note: any modification of the change history (including to commit messages) results in new commit identities

---
### Commit Trees

- Commits know who their parents are

![inline](http://git-scm.com/book/en/v2/book/03-git-branching/images/commits-and-parents.png)

---
### Branches

- A branch is a named pointer at a commit

![inline](http://git-scm.com/book/en/v2/book/03-git-branching/images/advance-testing.png)

---

## Setting Up a Repo

---
### New Local Repository

- For a brand-new repository
```
$ mkdir git_basics
$ cd git_basics
$ git init
```

- For a local copy of an existing repository
`$ git clone git@github.com:csojinb/git_basics.git`

---
### Ignoring Files

- We only want to version-control meaningful changes
- Repo-specific generated files (e.g. `*.pyc`, `*.log`) should be ignored in the version-controlled `.gitignore`
- Files generated by your specific workflow (e.g. editor files, `ipynb_checkpoints/`) should be ignored at the user level

```
$ git config --global core.excludesfile ~/.gitignore_global
```

---

## Committing Changes

![](http://hdwallpaper.freehdw.com/0002/nature-landscapes_other_gr-canyon_13672.jpg)

---
### Project Areas

- Working directory: untracked files, unstaged modifications
- Staging area: changes flagged for committing
- `.git` directory: committed change history

![right fit](http://git-scm.com/book/en/v2/book/01-introduction/images/areas.png)

---
### Move Files To/From Staging

- Use `git add` to stage untracked or modified files
```
$ git add <filename>
$ git add --all [dir]
```

- To unstage: `git reset HEAD[--<filename>]`

- To untrack: `git rm --cached`

- Note: bare `git rm` will delete the file altogether

---
### Commit With a Good Message

- Commit logically grouped sets of changes together
- Run `git status` before committing, to verify
- Run `git commit` and resist the urge to use the `-m` flag
- Write a nice, descriptive message in the editor → consider using multiple lines to explain!

---

## Branching & Merging

![](http://www.africaboundadventures.com/sites/default/files/images/Baobab%20tree.JPG)

---
### Create and Navigate Branches

- To check out a branch: `git checkout branch_name`
- To check out a commit: `git checkout <SHA-1>`
- Create a new branch: `git branch new_branch`
- To create and check out a new branch:
`$ git checkout -b new_branch `

---
### Merging

- Always work on a branch
    - Branches are cheap (just pointers)
    - Digging out code you don't want anymore is hard
- When your branch is ready, merge it into master
```
$ git checkout master
$ git merge branch_name
```

---

## Pulling & Pushing

![](http://www.wallscorner.com/walls/ocean-and-moon-wide.jpg)

---
### Remote Repositories

- Remotes are other people's copies of the same repository
    - If you clone a repo, the original is automatically added as the remote named `origin`
- Any other copy accessible by `https` or `ssh` can be added as a remote → even others' local repos

```
$ git remote add ani git@github.com/anivemprala/git_basics.git
```

---
### Pulling

- Update local cache of remote repository:
```
$ git fetch remote_name
```
- Fetch and merge into checked-out branch:
```
$ git pull [remote_name branch_name]
```
- Reset to remote branch, discarding local changes
```
$ git reset --hard remote_name/branch_name
```

---
### Pushing

- Push changes to a same-named remote branch:
`$ git push remote_name branch_name`

- Push changes to a differently-named remote branch:
`$ git push remote_name local_branch:remote_branch`

- Note that Github will prevent pushes that will overwrite existing changes; if your push is rejected, you'll need to pull down the remote changes first

---
### Tracking Branches

- Local branches can "track" remote branches
    - In a cloned repo, `master` automatically tracks `origin/master`
- `git pull` or `git push` default to tracked branch
- Set tracking branch:
`$ git branch -u remote_name/branch_to_track`

- Set and push to tracking branch:
`$ git push -u remote_name branch_to_track`

---

# THE END


